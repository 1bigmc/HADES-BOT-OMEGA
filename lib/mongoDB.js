const _0x26e61d=_0x1feb;(function(_0xa01bf6,_0x17deee){const _0x10e806=_0x1feb,_0x178c4b=_0xa01bf6();while(!![]){try{const _0x2ec780=parseInt(_0x10e806(0x132))/0x1+-parseInt(_0x10e806(0x133))/0x2+parseInt(_0x10e806(0x134))/0x3+parseInt(_0x10e806(0x135))/0x4+parseInt(_0x10e806(0x136))/0x5*(parseInt(_0x10e806(0x137))/0x6)+-parseInt(_0x10e806(0x138))/0x7+-parseInt(_0x10e806(0x139))/0x8;if(_0x2ec780===_0x17deee)break;else _0x178c4b['push'](_0x178c4b['shift']());}catch(_0x1e0769){_0x178c4b['push'](_0x178c4b['shift']());}}}(_0x1ef3,0x23b3e));function _0x1ef3(){const _0x86a047=['_schema','catch','error','read','conn','_model','findOne','write','save','findById','_id','models','list','lists','create','push','find','fromEntries','map','includes','name','keys','findIndex','deleteMany','entries','insertMany','24434HPHaZB','434966zCHGzF','595899JJPlga','1094712ccRMxC','15vAVqhi','219216UkXtCY','1317379AdqBDX','435480QeTrio','url','options','data','_data'];_0x1ef3=function(){return _0x86a047;};return _0x1ef3();}function _0x1feb(_0x521e7a,_0x4dcf93){const _0x1ef3ba=_0x1ef3();return _0x1feb=function(_0x1feba9,_0x203d43){_0x1feba9=_0x1feba9-0x132;let _0x264d37=_0x1ef3ba[_0x1feba9];return _0x264d37;},_0x1feb(_0x521e7a,_0x4dcf93);}import _0x2822c0 from'mongoose';const {Schema,connect,model:_model}=_0x2822c0,defaultOptions={'useNewUrlParser':!![],'useUnifiedTopology':!![]};export class mongoDB{constructor(_0x38614b,_0x59ae0a=defaultOptions){const _0x3b63a3=_0x1feb;this[_0x3b63a3(0x13a)]=_0x38614b,this[_0x3b63a3(0x13b)]=_0x59ae0a,this[_0x3b63a3(0x13c)]=this[_0x3b63a3(0x13d)]={},this[_0x3b63a3(0x13e)]={},this['_model']={},this['db']=connect(this['url'],{...this[_0x3b63a3(0x13b)]})[_0x3b63a3(0x13f)](console[_0x3b63a3(0x140)]);}async[_0x26e61d(0x141)](){const _0x42316c=_0x26e61d;this[_0x42316c(0x142)]=await this['db'];let _0x5a2bef=this['_schema']=new Schema({'data':{'type':Object,'required':!![],'default':{}}});try{this['_model']=_model(_0x42316c(0x13c),_0x5a2bef);}catch{this[_0x42316c(0x143)]=_model('data');}this[_0x42316c(0x13d)]=await this[_0x42316c(0x143)][_0x42316c(0x144)]({});if(!this[_0x42316c(0x13d)]){this[_0x42316c(0x13c)]={};const [_0x197285,_0x1391eb]=await Promise['all']([this[_0x42316c(0x145)](this['data']),this[_0x42316c(0x143)]['findOne']({})]);this[_0x42316c(0x13d)]=_0x1391eb;}else this[_0x42316c(0x13c)]=this[_0x42316c(0x13d)][_0x42316c(0x13c)];return this[_0x42316c(0x13c)];}['write'](_0x4c5a0b){return new Promise(async(_0x177a53,_0x44ff93)=>{const _0x4fffe9=_0x1feb;if(!_0x4c5a0b)return _0x44ff93(_0x4c5a0b);if(!this[_0x4fffe9(0x13d)])return _0x177a53(new this[(_0x4fffe9(0x143))]({'data':_0x4c5a0b})[_0x4fffe9(0x146)]());this['_model'][_0x4fffe9(0x147)](this[_0x4fffe9(0x13d)][_0x4fffe9(0x148)],(_0x1cb54e,_0x203e25)=>{const _0x18a877=_0x4fffe9;if(_0x1cb54e)return _0x44ff93(_0x1cb54e);if(!_0x203e25['data'])_0x203e25[_0x18a877(0x13c)]={};return _0x203e25[_0x18a877(0x13c)]=_0x4c5a0b,this['data']={},_0x203e25[_0x18a877(0x146)](_0x177a53);});});}}export const mongoDBV2=class MongoDBV2{constructor(_0x502e50,_0x42e906=defaultOptions){const _0x5de014=_0x26e61d;this['url']=_0x502e50,this['options']=_0x42e906,this[_0x5de014(0x149)]=[],this[_0x5de014(0x13c)]={},this['lists'],this[_0x5de014(0x14a)],this['db']=connect(this[_0x5de014(0x13a)],{...this[_0x5de014(0x13b)]})[_0x5de014(0x13f)](console['error']);}async[_0x26e61d(0x141)](){const _0x55855d=_0x26e61d;this[_0x55855d(0x142)]=await this['db'];let _0x3f37df=new Schema({'data':[{'name':String}]});try{this[_0x55855d(0x14a)]=_model(_0x55855d(0x14b),_0x3f37df);}catch(_0x5c84bd){this[_0x55855d(0x14a)]=_model(_0x55855d(0x14b));}this['lists']=await this[_0x55855d(0x14a)][_0x55855d(0x144)]({});!lists?.['data']&&(await this[_0x55855d(0x14a)][_0x55855d(0x14c)]({'data':[]}),this[_0x55855d(0x14b)]=await this['list'][_0x55855d(0x144)]({}));let _0x2ac0da=[];for(let {name:_0x3797cd}of this['lists']['data']){let _0x123cb1;try{_0x123cb1=_model(_0x3797cd,new Schema({'data':Array}));}catch(_0x2cc171){console['error'](_0x2cc171);try{_0x123cb1=_model(_0x3797cd);}catch(_0x545a32){_0x2ac0da['push'](_0x3797cd),console[_0x55855d(0x140)](_0x545a32);}}if(_0x123cb1){this[_0x55855d(0x149)][_0x55855d(0x14d)]({'name':_0x3797cd,'model':_0x123cb1});let _0x5e04e7=await _0x123cb1[_0x55855d(0x14e)]({});this[_0x55855d(0x13c)][_0x3797cd]=Object[_0x55855d(0x14f)](_0x5e04e7[_0x55855d(0x150)](_0xcf54b7=>_0xcf54b7[_0x55855d(0x13c)]));}}try{let _0x464a77=await this[_0x55855d(0x14a)]['findById'](this['lists'][_0x55855d(0x148)]);_0x464a77[_0x55855d(0x13c)]=_0x464a77[_0x55855d(0x13c)]['filter'](_0x31abd3=>!_0x2ac0da[_0x55855d(0x151)](_0x31abd3[_0x55855d(0x152)])),await _0x464a77['save']();}catch(_0xa7af36){console[_0x55855d(0x140)](_0xa7af36);}return this[_0x55855d(0x13c)];}[_0x26e61d(0x145)](_0x116051){return new Promise(async(_0x3d8261,_0x2cc1a3)=>{const _0x4e0a71=_0x1feb;if(!this['lists']||!_0x116051)return _0x2cc1a3(_0x116051||this[_0x4e0a71(0x14b)]);let _0x266465=Object[_0x4e0a71(0x153)](_0x116051),_0xbac8f6=[],_0x39cf61=0x0;for(let _0x21a649 of _0x266465){if((_0x39cf61=this[_0x4e0a71(0x149)][_0x4e0a71(0x154)](_0x51eccd=>_0x51eccd['name']===_0x21a649))!==-0x1){let _0x460282=this[_0x4e0a71(0x149)][_0x39cf61]['model'];await _0x460282[_0x4e0a71(0x155)]()['catch'](console[_0x4e0a71(0x140)]),await _0x460282['insertMany'](Object[_0x4e0a71(0x156)](_0x116051[_0x21a649])['map'](_0x34a7b3=>({'data':_0x34a7b3})));if(_0x460282&&_0x21a649)_0xbac8f6['push']({'name':_0x21a649});}else{let _0x110d4c=new Schema({'data':Array}),_0x173d40;try{_0x173d40=_model(_0x21a649,_0x110d4c);}catch(_0x536073){console['error'](_0x536073),_0x173d40=_model(_0x21a649);}_0x39cf61=this[_0x4e0a71(0x149)][_0x4e0a71(0x154)](_0x30db34=>_0x30db34[_0x4e0a71(0x152)]===_0x21a649),this[_0x4e0a71(0x149)][_0x39cf61===-0x1?this[_0x4e0a71(0x149)]['length']:_0x39cf61]={'name':_0x21a649,'model':_0x173d40},await _0x173d40[_0x4e0a71(0x157)](Object[_0x4e0a71(0x156)](_0x116051[_0x21a649])[_0x4e0a71(0x150)](_0x434f45=>({'data':_0x434f45})));if(_0x173d40&&_0x21a649)_0xbac8f6[_0x4e0a71(0x14d)]({'name':_0x21a649});}}return this[_0x4e0a71(0x14a)][_0x4e0a71(0x147)](this[_0x4e0a71(0x14b)]['_id'],function(_0x6f3e42,_0x3d519a){const _0x3dbc86=_0x4e0a71;if(_0x6f3e42)return _0x2cc1a3(_0x6f3e42);return _0x3d519a['data']=_0xbac8f6,this[_0x3dbc86(0x13c)]={},_0x3d519a[_0x3dbc86(0x146)](_0x3d8261);}),_0x3d8261(!![]);});}};